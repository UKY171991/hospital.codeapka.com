<!DOCTYPE html>
<html>
<head>
    <title>JS Syntax Test</title>
</head>
<body>
    <div id="apiList"></div>
    <div id="totalApis">0</div>
    <div id="workingApis">0</div>
    <div id="errorApis">0</div>
    <div id="lastTested">Never</div>
    <div id="apiStatusOverview"></div>
    
    <script>
        // Test the apiEndpoints array from the main file
        const apiEndpoints = [
            {
                name: 'Test API',
                file: 'test.php',
                description: 'Test API',
                baseUrl: 'https://example.com/test.php',
                endpoints: [
                    {
                        action: 'list',
                        method: 'GET',
                        url: '?action=list',
                        description: 'Test endpoint',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        response: {
                            'success': true,
                            'data': []
                        }
                    }
                ]
            }
        ];
        
        let apiResults = {};
        
        function updateOverview() {
            const total = apiEndpoints.length;
            const working = Object.values(apiResults).filter(r => r.status === 'success').length;
            const errors = Object.values(apiResults).filter(r => r.status === 'error').length;
            
            document.getElementById('totalApis').textContent = total;
            document.getElementById('workingApis').textContent = working;
            document.getElementById('errorApis').textContent = errors;
            document.getElementById('lastTested').textContent = new Date().toLocaleTimeString();
        }
        
        function loadAllApis() {
            const apiList = document.getElementById('apiList');
            apiList.innerHTML = '';
            
            apiEndpoints.forEach((api, index) => {
                const card = document.createElement('div');
                card.innerHTML = `<h3>${api.name}</h3>`;
                apiList.appendChild(card);
            });
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded');
            console.log('API Endpoints loaded:', apiEndpoints.length);
            
            if (apiEndpoints && apiEndpoints.length > 0) {
                loadAllApis();
                updateOverview();
            } else {
                console.error('apiEndpoints array is empty or undefined');
            }
        });
    </script>
</body>
</html>
